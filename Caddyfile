# Caddyfile

# Khối cấu hình toàn cục (Global options)
{
    # Email để nhận thông báo từ Let's Encrypt (Quan trọng để không bị rate limit)
    email {$ACME_EMAIL}
}

# Cấu hình Site
{$DOMAIN_NAME} {
    # Chuyển tiếp request vào container control-plane
    reverse_proxy control-plane:{$API_PORT}

    # Log ra định dạng JSON để dễ đẩy vào hệ thống monitoring sau này
    log {
        output stdout
        format json
    }
}